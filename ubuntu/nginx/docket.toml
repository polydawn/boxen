# Example nginx

[image]
	# Image name
	name = "docket.polydawn.net/nginx"

	# This image is built from the dev-tools image, which is in turn built from ubuntu.
	upstream = "docket.polydawn.net/dev-tools"


[settings]
	# Port forwarding (host, guest)
	ports = [
		[  "80",  "80" ],
		[ "443", "443" ],
	]

	# Additional folder mounts
	mounts = [
		[ "./conf", "/service/conf", "ro" ],
		[ "./data", "/service/data", "ro" ],
		[ "./log",  "/service/log",  "rw" ],
	]


# Run nginx in the foreground
[target.run]
	command = [ "/service/bin/nginx",  "-g", "daemon off;", "-c", "/service/conf/nginx.conf" ]

[target.bash]
	command = [ "/bin/bash" ]

[target.build]
	command = [ "/docket/build.sh" ]
